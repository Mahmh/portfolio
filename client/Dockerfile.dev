FROM node:20

ARG VITE_BACKEND_SERVER_URL
ARG VITE_CONTACT_EMAIL

ENV VITE_BACKEND_SERVER_URL=$VITE_BACKEND_SERVER_URL
ENV VITE_CONTACT_EMAIL=$VITE_CONTACT_EMAIL

WORKDIR /app
COPY package.json package-lock.json tsconfig.json ./
RUN npm ci

COPY . .

EXPOSE 5173
CMD ["npm", "run", "dev", "--", "--host"]